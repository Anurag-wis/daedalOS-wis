"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5989],{5989:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var r=n(37876),i=n(79052),o=n(77232),a=n(14232),l=n(31376),s=n(65266);let f=o.Ay.textarea.attrs(()=>({enterKeyHint:"done",rows:1,...s.m8})).withConfig({componentId:"sc-b3e0ac0d-0"})(["background-color:",";border:",";border-radius:0;color:",";font-family:inherit;font-size:11.5px;left:",";margin-bottom:2px;max-width:",";min-height:19px;min-width:30px;overflow:hidden;overflow-wrap:",";padding:",";position:",";resize:none;text-align:",";top:",";user-select:text;white-space:break-spaces;z-index:1;"],({$darkMode:e})=>e?"rgb(33, 33, 33)":"#fff",({$darkMode:e})=>`1px solid ${e?"#fff":"rgb(100, 100, 100)"}`,({$darkMode:e})=>e?"#fff":"#000",({$singleLineMode:e})=>e?"16px":void 0,({$singleLineMode:e,theme:t})=>e?void 0:`${t.sizes.fileEntry.renameWidth}px`,({$singleLineMode:e})=>e?"normal":void 0,({theme:e})=>`1px ${e.sizes.fileEntry.renamePadding}px`,({$singleLineMode:e})=>e?"absolute":"relative",({$singleLineMode:e})=>e?"left":"center",({$singleLineMode:e})=>e?"3px":"2px");var u=n(4622);let d=(0,a.memo)(({isDesktop:e,name:t,path:n,renameFile:d,setRenaming:c,view:p})=>{let x=(0,a.useRef)(null),h=()=>d(n,x.current?.value),{formats:m,sizes:g}=(0,o.DP)(),y=(0,a.useMemo)(()=>"details"===p,[p]),b=(0,a.useCallback)(e=>{if(e instanceof HTMLTextAreaElement){let t=(0,l.kD)(e.value,g.fileEntry.fontSize,m.systemFont);y||e.setAttribute("style","height: 1px");let n=`width: ${t+22}px`,r=`height: ${e.scrollHeight+2}px`;e.setAttribute("style",y?n:`${r}; ${n}`)}},[m.systemFont,y,g.fileEntry.fontSize]);return(0,a.useLayoutEffect)(()=>{requestAnimationFrame(()=>b(x.current))},[b]),(0,a.useLayoutEffect)(()=>{b(x.current),x.current?.focus(s.VD),x.current?.setSelectionRange(0,t.length-(0,i.extname)(t).length)},[t,b]),(0,r.jsx)(f,{ref:x,$darkMode:!e,$singleLineMode:y,defaultValue:t,onBlurCapture:h,onClick:u.CH,onDragStart:u.CH,onKeyDown:({key:e})=>{"Enter"===e?h():"Escape"===e&&c("")},onKeyUp:e=>{b(e.target),(0,u.CH)(e)}})})}}]);