"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[305],{16983:(e,t,r)=>{r.d(t,{Su:()=>a,US:()=>l,_X:()=>s,gR:()=>n});var i=r(37876),o=r(14232);let n=(0,o.memo)(()=>(0,i.jsx)("svg",{viewBox:"0 0 10 1",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M0 0h10v1H0z"})})),s=(0,o.memo)(()=>(0,i.jsx)("svg",{viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M0 0v10h10V0H0zm1 1h8v8H1V1z"})})),a=(0,o.memo)(()=>(0,i.jsx)("svg",{viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M2.1 0v2H0v8.1h8.2v-2h2V0H2.1zm5.1 9.2H1.1V3h6.1v6.2zm2-2.1h-1V2H3.1V1h6.1v6.1z"})})),l=(0,o.memo)(()=>(0,i.jsx)("svg",{viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M10.2.7L9.5 0 5.1 4.4.7 0 0 .7l4.4 4.4L0 9.5l.7.7 4.4-4.4 4.4 4.4.7-.7-4.4-4.4z"})}))},90305:(e,t,r)=>{r.r(t),r.d(t,{default:()=>b});var i=r(37876),o=r(14232),n=r(89426),s=r(77232),a=r(17873),l=r(65266);let c=(0,s.Ay)(n.m.div).withConfig({componentId:"sc-2b874055-0"})(["backdrop-filter:",";background-color:",";border:",";border-bottom:0;bottom:","px;display:flex;overflow:hidden;place-content:center;place-items:flex-start;position:fixed;transform:",";",":hover &{background-color:hsl(0 0% 25% / 70%);&:active{background-color:",";}}img{height:","px;margin:","px;max-height:","px;max-width:","px;min-height:80px;min-width:80px;object-fit:contain;}button.close{background-color:rgb(40 40 40);height:32px;position:absolute;right:0;top:0;width:32px;svg{fill:rgb(252 246 247);width:12px;}&:active{background-color:rgb(139 10 20) !important;}&:hover{background-color:rgb(194 22 36);}}.controls{display:flex;place-content:center;position:absolute;top:","px;width:100%;button{background-color:rgb(70 70 70);border:1px solid rgb(46 46 46);display:flex;height:27px;place-content:center;place-items:center;width:27px;&:active{background-color:rgb(61 96 153) !important;border:1px solid rgb(49 77 122) !important;}&:hover{background-color:rgb(54 101 179);border:1px solid rgb(43 81 143);}svg{fill:#fff;height:16px;margin-left:1px;pointer-events:none;user-select:none;width:16px;}}}"],({theme:e})=>`blur(${e.sizes.taskbar.blur})`,({theme:e})=>e.colors.taskbar.background,({theme:e})=>`1px solid ${e.colors.taskbar.peekBorder}`,l.D5,({$offsetX:e})=>e?`translateX(${e}px)`:void 0,a.A,({theme:e})=>e.colors.taskbar.activeForeground,({theme:e})=>e.sizes.taskbar.entry.peekImage.height,({theme:e})=>e.sizes.taskbar.entry.peekImage.margin,l.gR,l.gR,({theme:e})=>e.sizes.taskbar.entry.peekImage.height+2*e.sizes.taskbar.entry.peekImage.margin);var g=r(48940),h=r(4622);let d=async(e,t,r)=>{let i;if(!t.current)return;let o=()=>window.requestAnimationFrame(()=>d(e,t,r)),n=await (0,h.em)();try{let t="VIDEO"===e.tagName?{margin:"0",padding:"0"}:{};i=await n?.toCanvas(e,{...e.clientWidth>l.gR&&{canvasHeight:Math.round(l.gR/e.clientWidth*e.clientHeight),canvasWidth:l.gR},filter:e=>!(e instanceof HTMLSourceElement),skipAutoScale:!0,style:{inset:"0",...t}})}catch{}if(i&&i.width>0&&i.height>0)if((0,h.b0)(i)){let e=new Image,n=i.toDataURL();e.addEventListener("load",()=>{t.current&&(r(n),window.setTimeout(o,l.iC/15))},l.w3),e.decoding="async",e.src=n}else o()};var p=r(16983),m=r(19719),u=r(92336),x=r(2636);let w=(0,o.memo)(()=>(0,i.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M8 29.328V2.672h2.672v26.656H8zM21.328 2.672H24v26.656h-2.672V2.672z"})})),v=(0,o.memo)(()=>(0,i.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M28 16 8 30V2z"})})),b=(0,o.memo)(({id:e})=>{let{minimize:t,processes:{[e]:r}}=(0,g.N)(),{pause:n,paused:a,play:b,minimized:f=!1,title:k=e}=r||{},{setForegroundId:j}=(0,u.w)(),{onClose:y}=(0,m.A)(e),[z,C]=(0,o.useState)(0),H=(e=>{let{processes:{[e]:t}}=(0,g.N)(),{hidePeek:r,peekElement:i,peekImage:n,componentWindow:s,icon:a}=t||{},c=(0,o.useRef)(0),[p,m]=(0,o.useState)(""),u=(0,o.useRef)(!0);return(0,o.useEffect)(()=>{if(r||n)m(n||(0,h.GS)(a,l.jp,1,(0,h.uQ)(a)));else{let e=i||s;!c.current&&e&&(c.current=window.setTimeout(()=>window.requestAnimationFrame(()=>d(e,u,m)),document.querySelector(".peekWindow")?0:l.iC/2),u.current=!0)}return()=>{c.current&&(clearTimeout(c.current),c.current=0),u.current=!1}},[s,r,a,i,n]),p})(e),I=(0,o.useMemo)(()=>!!(b&&n),[n,b]),M=((e=!1)=>{let{sizes:{taskbar:t}}=(0,s.DP)(),r=t.entry.peekImage.height+2*t.entry.peekImage.margin;return e&&(r+=t.entry.peekControlsHeight),{animate:"active",exit:"initial",initial:"initial",transition:{duration:l.f9.WINDOW,ease:"easeInOut"},variants:{active:{height:r,opacity:1},initial:{height:0,opacity:0}}}})(I),R=(0,o.useRef)(null),V=(0,o.useCallback)(()=>{f&&t(e),j(e)},[e,t,f,j]);return(0,o.useLayoutEffect)(()=>{if(H){let{left:e=0,right:t=0}=R.current?.getBoundingClientRect()||{},r=(0,h.e8)();e<0?C(Math.abs(e)):t>r&&C(r-t)}},[H]),H?(0,i.jsxs)(c,{ref:R,$offsetX:z,className:"peekWindow",onClick:V,...M,...l.W8,children:[(0,i.jsx)("img",{alt:k,decoding:"async",loading:"eager",src:H,...l.rJ}),(0,i.jsx)(x.A,{className:"close",onClick:y,...(0,h.Pf)("Close"),children:(0,i.jsx)(p.US,{})}),I&&(0,i.jsxs)("div",{className:"controls",children:[a&&(0,i.jsx)(x.A,{onClick:e=>{(0,h.CH)(e),b?.()},...(0,h.Pf)("Play"),...l.W8,children:(0,i.jsx)(v,{})}),!a&&(0,i.jsx)(x.A,{onClick:e=>{(0,h.CH)(e),n?.()},...(0,h.Pf)("Pause"),...l.W8,children:(0,i.jsx)(w,{})})]})]}):null})}}]);